TODO
====

MVP:
1. Merge glasses_prescriptions and contacts_prescriptions into prescriptions with subclasses
2. Add services to invoices
3. Add accessories to invoices
4. Contacts dispensing
5. Glasses dispensing
6. Remove items
7. View dispensing from patient record
8. What is the plural of dispensing? Dispensing or dispensings? Perhaps it's dispense/dispensing?
9. View sales from patient record
10. Fast add items
11. Prevent dispensing to "cash sales"
12. Prevent switching to "cash sales" once dispensing has been done

13. Invoicing business rules
- Make sure all taxes appear properly on the invoice and are added up correctly
- Make sure balances are totaled correctly.
- Cannot void a transaction once it is complete (i.e. any payment has been made or dispensing has been done)

1. Remove "Od brand" and "Os brand" in contacts prescriptions


3. Appointments from patient record is missing <- Just remove
5. Invoicing
6. Dispensing report??


HISTORY
=======
[later]
companies
employment_type
genders
guardian_relationships
stores
users

[never]
dispensing (immutable once invoice confirmed)
invoices (immutable once confirmed)
items (immutable once invoice confirmed)
prescriptions (immutable once used)

[probably]
countries
inventory
inventory_lens_coatings
lens_coatings
lens_materials
lens_types
optometrists
patients
personal_titles
states

[required]

[done]
brands
taxes



INVOICE
=======
/invoices/:id/voice should require a POST
/invoices/:id/services, /invoice/:id/accessories
 - list available items
 - "Add" to add to invoice
 - If item already on invoice then increment qty?
 /invoices/:id/item
 -
 /invoice/:id/glasses_dispensing, /invoice/:id/contacts_dispensing


TAX CHANGE
==========
1. Make Tax A and Tax B fixed for a store (i.e. Tax A is HST, Tax B is GST). Include option for rate and if B applies to A
2. Modify the rest of the application so it shows the Tax A and Tax B names (i.e. HST instead of Tax A, GST instead of Tax B)
3. Change inventory so Tax A/B (called by their names) become checkboxes indicating if they apply or not (i.e. check the box next to "HST" to apply Tax A).
